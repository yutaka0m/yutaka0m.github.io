<!doctype html><html lang=jp-ja><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=hugo-theme content="Axiom 0.7.0"><link rel=icon href=/image/favicon/favicon.ico><link rel=apple-touch-icon href=/image/brand/icon-1-1.jpg><link rel=canonical href=https://tech.yutaka0m.com/entry/2020/04/04/211/><link rel=preload as=style href="/bundle.css?v=1619259065" media=all><link rel=stylesheet href="/bundle.css?v=1619259065" media=all><style>.cdata pre{color:#edf2f7;background-color:#2d3748}.cdata :not(pre)>code{color:#805ad5;background-color:#f7fafc}.chroma .err{color:#fed7d7;background-color:#9b2c2c}.chroma .hl{background-color:#4a5568}.chroma .ln{color:#a0aec0}.chroma .k,.chroma .kc,.chroma .kd,.chroma .kn,.chroma .kp,.chroma .kr{color:#63b3ed}.chroma .kt{color:#b794f4}.chroma .na{color:#f6e05e}.chroma .nb{color:#f6ad55}.chroma .nc{color:#fc8181}.chroma .no{color:#68d391}.chroma .nd{color:#fc8181}.chroma .ne{color:#fc8181}.chroma .nf{color:#f6ad55}.chroma .nt{color:#fc8181}.chroma .l{color:#b794f4}.chroma .dl,.chroma .ld,.chroma .s,.chroma .s2,.chroma .sa,.chroma .sb,.chroma .sc,.chroma .sd{color:#68d391}.chroma .se{color:#a0aec0}.chroma .s1,.chroma .sh,.chroma .si,.chroma .sr,.chroma .ss,.chroma .sx{color:#68d391}.chroma .il,.chroma .m,.chroma .mb,.chroma .mf,.chroma .mh,.chroma .mi,.chroma .mo{color:#b794f4}.chroma .o,.chroma .ow{color:#90cdf4}.chroma .p{color:#cbd5e0}.chroma .c,.chroma .c1,.chroma .ch,.chroma .cm,.chroma .cp,.chroma .cpf,.chroma .cs{color:#a0aec0}.chroma .ge{font-style:italic}.chroma .gs{font-weight:700}</style><title>Terraform AWS CodePipelineのGitHubWebHookをシークレットを書かずに設定する方法 : yutaka0m blog</title><meta property="og:title" content="Terraform AWS CodePipelineのGitHubWebHookをシークレットを書かずに設定する方法"><meta property="og:site_name" content="yutaka0m blog"><meta property="og:url" content="https://tech.yutaka0m.com/entry/2020/04/04/211/"><link rel=image_src href=https://tech.yutaka0m.com/image/top-image.jpg><meta property="og:image" content="https://tech.yutaka0m.com/image/top-image.jpg"><meta property="og:image:width" content="1920"><meta property="og:image:height" content="1080"><meta property="og:type" content="article"><meta property="og:locale" content="jp_ja"><meta property="og:description" content="TerraformでAWS CodePipelineのGitHubWebHookを設定できます。 しかし、GitHubシークレットをハードコーディングする必要があるので、セキュリティのリスクがあります。 そこで、シークレットをTerraformに直接記述しない方法で、WebHookを設定する方法を紹介します。TerraformでWebHookの設定を記述し、シークレットだけCLIで上書きします。 TerraformでWebHookを作成する CodePipelineのWebHookを作成します。GitHubとの通信で使用するシークレットは、あとで上書きするので、適当なものを入れておきます。 resource &amp;quot;aws_codepipeline_webhook&amp;quot; &amp;quot;this&amp;quot; { name = &amp;quot;my-codepipeline-webhook&amp;quot; // CodePipelineの名前 target_pipeline = aws_codepipeline.this.name // CodePipeline内のターゲットとなるアクション名 target_action = &amp;quot;Source&amp;quot; authentication = &amp;quot;GITHUB_HMAC&amp;quot; authentication_configuration { // CLIで上書きするので、適当なシークレットにしておく secret_token = &amp;quot;dummy&amp;quot; } filter { json_path = &amp;quot;$.ref&amp;quot; match_equals = &amp;quot;"><meta name=description content="TerraformでAWS CodePipelineのGitHubWebHookを設定できます。 しかし、GitHubシークレットをハードコーディングする必要があるので、セキュリティのリスクがあります。 そこで、シークレットをTerraformに直接記述しない方法で、WebHookを設定する方法を紹介します。TerraformでWebHookの設定を記述し、シークレットだけCLIで上書きします。 TerraformでWebHookを作成する CodePipelineのWebHookを作成します。GitHubとの通信で使用するシークレットは、あとで上書きするので、適当なものを入れておきます。 resource &amp;quot;aws_codepipeline_webhook&amp;quot; &amp;quot;this&amp;quot; { name = &amp;quot;my-codepipeline-webhook&amp;quot; // CodePipelineの名前 target_pipeline = aws_codepipeline.this.name // CodePipeline内のターゲットとなるアクション名 target_action = &amp;quot;Source&amp;quot; authentication = &amp;quot;GITHUB_HMAC&amp;quot; authentication_configuration { // CLIで上書きするので、適当なシークレットにしておく secret_token = &amp;quot;dummy&amp;quot; } filter { json_path = &amp;quot;$.ref&amp;quot; match_equals = &amp;quot;"><meta property="og:updated_time" content="2020-04-04T06:35:51Z"><meta property="fb:app_id" content><meta name=author content="yutaka0m"><meta property="article:author" content="https://tech.yutaka0m.com"><meta property="article:published_time" content="2020-04-04T06:35:51Z"><meta property="article:modified_time" content="2020-04-04T06:35:51Z"><script type=application/ld+json>{"@context":"https://schema.org","@type":"Article","headline":"Terraform AWS CodePipelineのGitHubWebHookをシークレットを書かずに設定する方法","alternativeHeadline":"TerraformでAWS CodePipelineのGitHubWebHookを設定できます。 しかし、GitHubシークレットをハードコーディングする必要があるので、セキュリティのリスクがあります。 そこで、シークレットをTerraformに直接記述しない方法で、WebHookを設定する方法を紹介します。TerraformでWebHookの設定を記述し、シークレットだけCLIで上書きします。 TerraformでWebHookを作成する CodePipelineのWebHookを作成します。GitHubとの通信で使用するシークレットは、あとで上書きするので、適当なものを入れておきます。 resource \u0026quot;aws_codepipeline_webhook\u0026quot; \u0026quot;this\u0026quot; { name = \u0026quot;my-codepipeline-webhook\u0026quot; // CodePipelineの名前 target_pipeline = aws_codepipeline.this.name // CodePipeline内のターゲットとなるアクション名 target_action = \u0026quot;Source\u0026quot; authentication = \u0026quot;GITHUB_HMAC\u0026quot; authentication_configuration { // CLIで上書きするので、適当なシークレットにしておく secret_token = \u0026quot;dummy\u0026quot; } filter { json_path = \u0026quot;$.ref\u0026quot; match_equals = \u0026quot;","url":"https://tech.yutaka0m.com/entry/2020/04/04/211/","image":"https://tech.yutaka0m.com/image/top-image.jpg","mainEntityOfPage":{"@type":"WebPage","@id":"https://tech.yutaka0m.com/entry/2020/04/04/211/"},"description":"TerraformでAWS CodePipelineのGitHubWebHookを設定できます。 しかし、GitHubシークレットをハードコーディングする必要があるので、セキュリティのリスクがあります。 そこで、シークレットをTerraformに直接記述しない方法で、WebHookを設定する方法を紹介します。TerraformでWebHookの設定を記述し、シークレットだけCLIで上書きします。 TerraformでWebHookを作成する CodePipelineのWebHookを作成します。GitHubとの通信で使用するシークレットは、あとで上書きするので、適当なものを入れておきます。 resource \u0026quot;aws_codepipeline_webhook\u0026quot; \u0026quot;this\u0026quot; { name = \u0026quot;my-codepipeline-webhook\u0026quot; // CodePipelineの名前 target_pipeline = aws_codepipeline.this.name // CodePipeline内のターゲットとなるアクション名 target_action = \u0026quot;Source\u0026quot; authentication = \u0026quot;GITHUB_HMAC\u0026quot; authentication_configuration { // CLIで上書きするので、適当なシークレットにしておく secret_token = \u0026quot;dummy\u0026quot; } filter { json_path = \u0026quot;$.ref\u0026quot; match_equals = \u0026quot;","author":{"@type":"Person","name":"yutaka0m"},"publisher":{"@type":"Organization","name":"yutaka0m blog","logo":{"@type":"ImageObject","url":"https://tech.yutaka0m.com/image/brand/icon-1-1.jpg"}},"datePublished":"2020-04-04T06:35:51Z","dateModified":"2020-04-04T06:35:51Z","articleBody":"\u003cp\u003eTerraformでAWS CodePipelineのGitHubWebHookを設定できます。\u003cbr\u003e\nしかし、GitHubシークレットをハードコーディングする必要があるので、セキュリティのリスクがあります。\u003c/p\u003e\u003c/p\u003e\n\u003cp\u003eそこで、シークレットをTerraformに直接記述しない方法で、WebHookを設定する方法を紹介します。TerraformでWebHookの設定を記述し、シークレットだけCLIで上書きします。\u003c/p\u003e\n\u003ch2 id=\"terraformでwebhookを作成する\"\u003eTerraformでWebHookを作成する\u003c/h2\u003e\n\u003cp\u003eCodePipelineのWebHookを作成します。GitHubとの通信で使用するシークレットは、あとで上書きするので、適当なものを入れておきます。\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-json\"\u003eresource \"aws_codepipeline_webhook\" \"this\" {\n  name            = \"my-codepipeline-webhook\"\n  // CodePipelineの名前\n  target_pipeline = aws_codepipeline.this.name\n  // CodePipeline内のターゲットとなるアクション名\n  target_action   = \"Source\"\n  authentication  = \"GITHUB_HMAC\"\n  authentication_configuration {\n    // CLIで上書きするので、適当なシークレットにしておく\n    secret_token = \"dummy\"\n  }\n  filter {\n    json_path    = \"$.ref\"\n    match_equals = \"refs/heads/{Branch}\"\n  }\n  lifecycle {\n    ignore_changes = [\n      authentication_configuration\n    ]\n  }\n}\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eこの状態で、\u003ccode\u003eterraform apply\u003c/code\u003eすると、CodePipelineのWebHookの設定が完了します。\u003c/p\u003e\n\u003ch2 id=\"aws-cliでwebhookの情報を取得\"\u003eAWS CLIでWebHookの情報を取得\u003c/h2\u003e\n\u003cp\u003eTerraformで作成したWebHookを確認します。\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003eaws codepipeline list-webhooks \\\n    --endpoint-url \"https://codepipeline.ap-northeast-1.amazonaws.com\" \\\n    --region \"ap-northeast-1\" \\\n    \u0026gt; list_webhooks.json\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e出力された、\u003ccode\u003elist_webhooks.json\u003c/code\u003eは次のようになっています。\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-json\"\u003e{\n    \"webhooks\": [\n        {\n            \"definition\": {\n                \"name\": \"my-codepipeline-webhook\",\n                \"targetPipeline\": \"my-codepipeline\",\n                \"targetAction\": \"Source\",\n                \"filters\": [\n                    {\n                        \"jsonPath\": \"$.ref\",\n                        \"matchEquals\": \"refs/heads/{Branch}\"\n                    }\n                ],\n                \"authentication\": \"GITHUB_HMAC\",\n                \"authenticationConfiguration\": {\n                    \"SecretToken\": \"dummy\"\n                }\n            },\n            \"url\": \"https://ap-northeast-1.webhooks.aws/trigger?xxxxxxxxxxxx\",\n            \"arn\": \"arn:aws:codepipeline:ap-northeast-1:xxxxx:webhook:my-codepipeline-webhook\",\n            \"tags\": []\n        }\n    ]\n}\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"aws-cliでwebhookのシークレットを変更する\"\u003eAWS CLIでWebHookのシークレットを変更する\u003c/h2\u003e\n\u003cp\u003e先ほど取得した、jsonファイルをもとに\u003ccode\u003emy-codepipeline-webhook.json\u003c/code\u003eを次のように作成します。シークレットは、ダミーではなく本当に設定したいランダムな文字列を入れます。\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-json\"\u003e{\n  \"webhook\": {\n    \"name\": \"my-codepipeline-webhook\",\n    \"targetPipeline\": \"my-codepipeline\",\n    \"targetAction\": \"Source\",\n    \"filters\": [\n      {\n        \"jsonPath\": \"$.ref\",\n        \"matchEquals\": \"refs/heads/{Branch}\"\n      }\n    ],\n    \"authentication\": \"GITHUB_HMAC\",\n    \"authenticationConfiguration\": {\n      \"SecretToken\": \"aliueoogagohajghiuqehradv\"\n    }\n  }\n}\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e次のコマンドをたたいて、シークレットを更新します。\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003eaws codepipeline put-webhook --cli-input-json file://my-codepipeline-webhook.json\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"githubでwebhookの登録をする\"\u003eGitHubでWebHookの登録をする\u003c/h2\u003e\n\u003cp\u003e\u003ccode\u003eリポジトリトップ\u003c/code\u003e -\u0026gt; \u003ccode\u003eSettings\u003c/code\u003e -\u0026gt; \u003ccode\u003eWebhooks\u003c/code\u003e -\u0026gt; \u003ccode\u003eAdd webhook\u003c/code\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003ePayload URL : list_webhooks.jsonの中から、設定したwebhookのurlをコピーして、貼り付ける\u003c/li\u003e\n\u003cli\u003eContent type : application/json\u003c/li\u003e\n\u003cli\u003eSecret : 先ほどCLIで上書きしたシークレットを貼り付ける\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003ccode\u003eAdd webhook\u003c/code\u003e　をクリックして、設定完了。\u003c/p\u003e\n\u003ch2 id=\"テスト\"\u003eテスト\u003c/h2\u003e\n\u003cp\u003eGitHubで何かPushをして、CodePipelineが起動すれば成功です。\u003c/p\u003e\n\u003ch2 id=\"参考\"\u003e参考\u003c/h2\u003e\n\u003cp\u003e\u003ca href=\"https://docs.aws.amazon.com/ja_jp/codepipeline/latest/userguide/pipelines-webhooks.html\"\u003ehttps://docs.aws.amazon.com/ja_jp/codepipeline/latest/userguide/pipelines-webhooks.html\u003c/a\u003e\u003c/p\u003e"}</script><link rel=preload as=script href="/bundle.js?v=1619259065"></head><body><header id=nav class=header><div class="ax-l-i max-w-6xl"><div class=ax-logo><a class=block href=/ title="yutaka0m blog"><span class="font-semibold text-raven-900">yutaka0m blog</span></a></div><div class=ax-user><a class="p-2 w-8 h-8 block text-raven-500 hover:text-gray-800 focus:text-gray-800 focus:outline-none" target=_blank rel="noopener nofollow" href="https://www.google.com/search?q=site:https://tech.yutaka0m.com" title=Search><svg class="fill-current" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M2.67 12.804c0-5.6 4.544-10.134 10.133-10.134s10.134 4.544 10.134 10.134-4.544 10.133-10.134 10.133S2.67 18.393 2.67 12.804zm28.943 16.923-8.868-8.868c4.287-5.3 3.68-13.012-1.378-17.57S8.564-1.066 3.75 3.75s-5.017 12.558-.46 17.618 12.28 5.665 17.57 1.378l8.868 8.868a1.33 1.33.0 002.231-.597c.123-.46-.008-.952-.345-1.29h0z"/></svg></a><a class="p-2 block text-base leading-none text-raven-500 hover:text-gray-800 focus:text-gray-800 focus:outline-none" href=/entry/>記事一覧</a></div></div></header><main><div class=default-single><div class="ax-title ax-l-o"><div class="ax-l-i max-w-680"><h1 class="post-title font-content-title font-normal leading-tight tracking-default text-40">Terraform AWS CodePipelineのGitHubWebHookをシークレットを書かずに設定する方法</h1><div class="ax-meta flex items-center mt-5"><div class="flex-grow min-w-0"><div class="flex items-center"><div class=flex-shrink-0><img class="w-12 h-12 sm:w-14 sm:h-14 object-cover p-3px rounded-full border border-blue-300" src=/image/author/default.jpg alt=yutaka0m></div><div class="flex-shrink-0 ml-2 leading-tight font-content-sans"><a class="block text-sm text-raven-800 hover:text-raven-900 hover:underline focus:underline" target=_blank rel="noopener nofollow" title=yutaka0m href=https://tech.yutaka0m.com>yutaka0m</a>
<time class="text-sm text-raven-500" datetime=2020-04-04T06:35:51Z>Apr 4, 2020 6:35AM</time></div></div></div><div><div class="flex items-center"><a class="flex-shrink-0 block text-raven-800 hover:text-raven-900" target=_blank rel="noopener nofollow" title="Share on Twitter" href="https://twitter.com/intent/tweet?text=Terraform%20AWS%20CodePipeline%e3%81%aeGitHubWebHook%e3%82%92%e3%82%b7%e3%83%bc%e3%82%af%e3%83%ac%e3%83%83%e3%83%88%e3%82%92%e6%9b%b8%e3%81%8b%e3%81%9a%e3%81%ab%e8%a8%ad%e5%ae%9a%e3%81%99%e3%82%8b%e6%96%b9%e6%b3%95%20by%20%40yutaka0m%20https%3a%2f%2ftech.yutaka0m.com%2fentry%2f2020%2f04%2f04%2f211%2f"><svg class="w-6 h-6 fill-current" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M32 6.078c-1.2.522-2.458.868-3.78 1.036 1.36-.812 2.398-2.088 2.886-3.626a13.11 13.11.0 01-4.16 1.588C25.742 3.794 24.026 3 22.154 3a6.56 6.56.0 00-6.556 6.562c0 .52.044 1.02.152 1.496-5.454-.266-10.28-2.88-13.522-6.862-.566.982-.898 2.106-.898 3.316a6.57 6.57.0 002.914 5.452 6.48 6.48.0 01-2.964-.808v.072c0 3.188 2.274 5.836 5.256 6.446-.534.146-1.116.216-1.72.216-.42.0-.844-.024-1.242-.112.85 2.598 3.262 4.508 6.13 4.57a13.18 13.18.0 01-8.134 2.798c-.538.0-1.054-.024-1.57-.1C2.906 27.93 6.35 29 10.064 29c12.072.0 18.672-10 18.672-18.668.0-.3-.01-.57-.024-.848C30.014 8.56 31.108 7.406 32 6.078z"/></svg></a><a class="ml-3 flex-shrink-0 block text-raven-800 hover:text-raven-900" target=_blank rel="noopener nofollow" title="Share on Facebook" href="https://www.facebook.com/dialog/share?app_id=&display=page&href=https%3a%2f%2ftech.yutaka0m.com%2fentry%2f2020%2f04%2f04%2f211%2f"><svg class="w-6 h-6 fill-current" viewBox="-7 -3.5 39 39" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M30.234.0H1.765C.8.001.0.79.0 1.766v28.47C.001 31.2.79 32 1.766 32h15.328V19.625h-4.156V14.78h4.156v-3.564c0-4.134 2.523-6.384 6.21-6.384 1.766.0 3.284.13 3.726.2v4.32h-2.543c-2.006.0-2.394.953-2.394 2.352v3.085h4.797l-.625 4.844h-4.172V32h8.14C31.21 32 32 31.2 32 30.234V1.765C32 .8 31.21.0 30.234.0z"/></svg></a></div></div></div></div></div><div class="ax-content ax-l-o"><div class="ax-l-i max-w-680"><article class=cdata><p>TerraformでAWS CodePipelineのGitHubWebHookを設定できます。<br>しかし、GitHubシークレットをハードコーディングする必要があるので、セキュリティのリスクがあります。</p></p><p>そこで、シークレットをTerraformに直接記述しない方法で、WebHookを設定する方法を紹介します。TerraformでWebHookの設定を記述し、シークレットだけCLIで上書きします。</p><h2 id=terraformでwebhookを作成する>TerraformでWebHookを作成する</h2><p>CodePipelineのWebHookを作成します。GitHubとの通信で使用するシークレットは、あとで上書きするので、適当なものを入れておきます。</p><pre><code class=language-json>resource "aws_codepipeline_webhook" "this" {
  name            = "my-codepipeline-webhook"
  // CodePipelineの名前
  target_pipeline = aws_codepipeline.this.name
  // CodePipeline内のターゲットとなるアクション名
  target_action   = "Source"
  authentication  = "GITHUB_HMAC"
  authentication_configuration {
    // CLIで上書きするので、適当なシークレットにしておく
    secret_token = "dummy"
  }
  filter {
    json_path    = "$.ref"
    match_equals = "refs/heads/{Branch}"
  }
  lifecycle {
    ignore_changes = [
      authentication_configuration
    ]
  }
}</code></pre><p>この状態で、<code>terraform apply</code>すると、CodePipelineのWebHookの設定が完了します。</p><h2 id=aws-cliでwebhookの情報を取得>AWS CLIでWebHookの情報を取得</h2><p>Terraformで作成したWebHookを確認します。</p><pre><code class=language-bash>aws codepipeline list-webhooks \
    --endpoint-url "https://codepipeline.ap-northeast-1.amazonaws.com" \
    --region "ap-northeast-1" \
    &gt; list_webhooks.json</code></pre><p>出力された、<code>list_webhooks.json</code>は次のようになっています。</p><pre><code class=language-json>{
    "webhooks": [
        {
            "definition": {
                "name": "my-codepipeline-webhook",
                "targetPipeline": "my-codepipeline",
                "targetAction": "Source",
                "filters": [
                    {
                        "jsonPath": "$.ref",
                        "matchEquals": "refs/heads/{Branch}"
                    }
                ],
                "authentication": "GITHUB_HMAC",
                "authenticationConfiguration": {
                    "SecretToken": "dummy"
                }
            },
            "url": "https://ap-northeast-1.webhooks.aws/trigger?xxxxxxxxxxxx",
            "arn": "arn:aws:codepipeline:ap-northeast-1:xxxxx:webhook:my-codepipeline-webhook",
            "tags": []
        }
    ]
}</code></pre><h2 id=aws-cliでwebhookのシークレットを変更する>AWS CLIでWebHookのシークレットを変更する</h2><p>先ほど取得した、jsonファイルをもとに<code>my-codepipeline-webhook.json</code>を次のように作成します。シークレットは、ダミーではなく本当に設定したいランダムな文字列を入れます。</p><pre><code class=language-json>{
  "webhook": {
    "name": "my-codepipeline-webhook",
    "targetPipeline": "my-codepipeline",
    "targetAction": "Source",
    "filters": [
      {
        "jsonPath": "$.ref",
        "matchEquals": "refs/heads/{Branch}"
      }
    ],
    "authentication": "GITHUB_HMAC",
    "authenticationConfiguration": {
      "SecretToken": "aliueoogagohajghiuqehradv"
    }
  }
}</code></pre><p>次のコマンドをたたいて、シークレットを更新します。</p><pre><code class=language-bash>aws codepipeline put-webhook --cli-input-json file://my-codepipeline-webhook.json</code></pre><h2 id=githubでwebhookの登録をする>GitHubでWebHookの登録をする</h2><p><code>リポジトリトップ</code> -> <code>Settings</code> -> <code>Webhooks</code> -> <code>Add webhook</code></p><ul><li>Payload URL : list_webhooks.jsonの中から、設定したwebhookのurlをコピーして、貼り付ける</li><li>Content type : application/json</li><li>Secret : 先ほどCLIで上書きしたシークレットを貼り付ける</li></ul><p><code>Add webhook</code>　をクリックして、設定完了。</p><h2 id=テスト>テスト</h2><p>GitHubで何かPushをして、CodePipelineが起動すれば成功です。</p><h2 id=参考>参考</h2><p><a href=https://docs.aws.amazon.com/ja_jp/codepipeline/latest/userguide/pipelines-webhooks.html>https://docs.aws.amazon.com/ja_jp/codepipeline/latest/userguide/pipelines-webhooks.html</a></p></article></div></div></div></main><footer class=footer><div class="ax-l-i max-w-6xl"><nav class="flex items-center justify-center"><a class="ml-3 first:ml-0 text-sm text-gray-600 hover:text-gray-800" href=/entry/>記事一覧</a>
<a class="ml-3 first:ml-0 text-sm text-gray-600 hover:text-gray-800" href=/about/>About</a>
<a class="ml-3 first:ml-0 text-sm text-gray-600 hover:text-gray-800" href=/contact/>Contact</a>
<a class="ml-3 first:ml-0 text-sm text-gray-600 hover:text-gray-800" href=/privacy-policy/>Privacy</a></nav><div class="footer-social flex items-center justify-center mt-4"><a class="block mx-3 w-6 h-6 text-raven-700 hover:text-raven-900" target=_blank rel="noopener nofollow" title=Twitter href=https://twitter.com/yutaka0m/><svg class="fill-current" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M32 6.078c-1.2.522-2.458.868-3.78 1.036 1.36-.812 2.398-2.088 2.886-3.626a13.11 13.11.0 01-4.16 1.588C25.742 3.794 24.026 3 22.154 3a6.56 6.56.0 00-6.556 6.562c0 .52.044 1.02.152 1.496-5.454-.266-10.28-2.88-13.522-6.862-.566.982-.898 2.106-.898 3.316a6.57 6.57.0 002.914 5.452 6.48 6.48.0 01-2.964-.808v.072c0 3.188 2.274 5.836 5.256 6.446-.534.146-1.116.216-1.72.216-.42.0-.844-.024-1.242-.112.85 2.598 3.262 4.508 6.13 4.57a13.18 13.18.0 01-8.134 2.798c-.538.0-1.054-.024-1.57-.1C2.906 27.93 6.35 29 10.064 29c12.072.0 18.672-10 18.672-18.668.0-.3-.01-.57-.024-.848C30.014 8.56 31.108 7.406 32 6.078z"/></svg></a><a class="block mx-3 w-6 h-6 text-raven-700 hover:text-raven-900" target=_blank rel="noopener nofollow" title=Github href=https://github.com/yutaka0m/><svg class="fill-current" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M15.998.0C7.164.0.0 7.35.0 16.417.0 23.67 4.584 29.82 10.944 31.994c.8.15 1.092-.356 1.092-.79l-.022-2.792c-4.45.99-5.4-2.202-5.4-2.202-.726-1.896-1.776-2.4-1.776-2.4-1.454-1.018.108-.998.108-.998 1.606.117 2.45 1.693 2.45 1.693 1.428 2.507 3.746 1.784 4.658 1.363.144-1.06.558-1.784 1.016-2.195-3.552-.415-7.288-1.823-7.288-8.113.0-1.792.624-3.258 1.648-4.406-.166-.415-.714-2.085.156-4.344.0.0 1.344-.44 4.4 1.683 1.276-.364 2.644-.546 4.006-.552a14.98 14.98.0 014.006.554C23.062 6.37 24.404 6.8 24.404 6.8c.872 2.26.324 3.93.16 4.344 1.026 1.148 1.644 2.614 1.644 4.406.0 6.306-3.74 7.694-7.304 8.1.574.507 1.086 1.51 1.086 3.04l-.02 4.503c0 .44.288.95 1.1.788C27.42 29.817 32 23.667 32 16.417 32 7.35 24.836.0 15.998.0z"/></svg></a></div><div class="footer-copyright text-sm text-center text-gray-500 mt-4">&#169; 2020-2021 yutaka0m blog</div><div class="text-sm sm:text-xs text-center text-gray-500 mt-2">Powered by <a href="https://www.axiomtheme.com/?utm_source=theme-footer&utm_medium=website&utm_campaign=referral">Axiom</a></div></div></footer><script src="/bundle.js?v=1619259065"></script></body></html>